-- Tabela DadosMotores
CREATE TABLE motor (
    id_motor SERIAL PRIMARY KEY,
    tag VARCHAR(255) NOT NULL,
    descricao VARCHAR(255) NOT NULL,
    frequencia FLOAT NOT NULL,
    potencia FLOAT NOT NULL,
    corrente FLOAT NOT NULL,
    tensao FLOAT NOT NULL,
    timestamp TIMESTAMP default CURRENT_TIMESTAMP NOT NULL
);

-- Tabela DatalogMotores
CREATE TABLE log_motor (
    id_log_motor SERIAL PRIMARY KEY,
    id_motor INT NOT NULL,
    status BOOLEAN NOT NULL,
    frequencia FLOAT NOT NULL,
    corrente FLOAT NOT NULL,
    tensao_entrada FLOAT NOT NULL,
    timestamp TIMESTAMP default CURRENT_TIMESTAMP NOT NULL,
    FOREIGN KEY (id_motor) REFERENCES motor(id_motor)
);

-- Tabela EventosVazao
CREATE TABLE vazao (
    id_vazao SERIAL PRIMARY KEY,
    id_log_motor INT NOT NULL,
    vazao_registrada FLOAT NOT NULL,
    timestamp TIMESTAMP default CURRENT_TIMESTAMP NOT NULL,
    FOREIGN KEY (id_log_motor) REFERENCES log_motor(id_log_motor)
);

-- Tabela previsaoM3h 
CREATE TABLE previsao (
    id_previsao SERIAL PRIMARY KEY,
    previsao_registrada FLOAT NOT NULL,
    offset_tolerancia FLOAT NOT NULL,
    timestamp TIMESTAMP default CURRENT_TIMESTAMP NOT NULL
);